package {

	import org.glavbot.codecs.gsmfr.GSMEncoder;

	import flash.display.Sprite;
	import flash.utils.ByteArray;

	/**
	 * @author Humanoid
	 */
	public class SingleFrameEncodeTest extends Sprite {

		public function SingleFrameEncodeTest() {
			var input: Vector.<int> = new <int>[-12196,-1261,17032,4600,9592,1420,2650,-2678,1887,20723,-1611,-18266,-12022,21797,-26629,-12631,-25743,13480,8781,8742,5512,18939,-14339,22060,15390,-23592,-11048,-7047,19881,3154,9594,-19304,-10737,14094,16781,-14327,11851,12854,-2073,5944,-13275,13958,22690,15227,15784,-3531,-5828,499,11458,-5423,-4494,-31902,18074,4625,-22463,-8976,-7420,10641,23476,9701,-14392,4480,1721,15951,-7189,7740,6601,4755,-8481,4320,5027,-4109,-10334,20164,23257,1541,12241,-3092,-20120,12574,16047,-9122,-25058,10656,18444,-16263,10261,13380,4913,42,-16371,-4274,-597,14631,13216,-10062,-6641,17406,1691,10539,-13649,-19413,-29168,-24504,-1995,-2289,10611,23885,9276,-21014,-2634,-7881,-12336,24233,-10712,21873,-12842,6088,12145,-19527,18812,8952,12394,-5449,10374,-7457,1248,7102,9610,-2134,-12719,3411,-471,-14682,-16747,-4426,4393,178,12409,2132,18578,-15430,6734,-2761,11175,-3324,13910,333,-2854,-7538,15672,18622,1961,-3773,-29095,13333,8829,11815,8729,-4755];
			var encoder: GSMEncoder = new GSMEncoder();
			
			var frame: ByteArray = encoder.encode(input);
			var bytes: String = "";

			trace("input:  " + input);
			
			for (var i: int = 0; i < frame.length; i++) {
				var r:String = frame[i].toString(16).toUpperCase();
				bytes += (r.length == 2) ? r : "0"+r;
			}
			
			trace("encoded:   " + bytes);
			trace("encoding test: " + (bytes == "DA66D429E250596748DB0CED50FC765AF245AB62BFA954904AA480BAE7107E674E"));
		}

	}
}
